<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 Apply Family of Functions | STAT 107 Outline of Class Notes</title>
  <meta name="description" content="Course notes for UCR’s STAT 107. An introduction to programming in R." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 Apply Family of Functions | STAT 107 Outline of Class Notes" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="yhttps://rpkgarcia.github.io/stat107_summer2022notes/" />
  
  <meta property="og:description" content="Course notes for UCR’s STAT 107. An introduction to programming in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 Apply Family of Functions | STAT 107 Outline of Class Notes" />
  
  <meta name="twitter:description" content="Course notes for UCR’s STAT 107. An introduction to programming in R." />
  

<meta name="author" content="Rebecca Kurtz-Garcia" />


<meta name="date" content="2022-08-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loops.html"/>
<link rel="next" href="simulation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 107 Notes</a></li>

<li class="divider"></li>
<li><a href="index.html#welcome">Welcome<span></span></a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R<span></span></a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#download-and-install-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Download and Install R and Rstudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-rstudio-interface"><i class="fa fa-check"></i><b>1.2</b> The <strong>RStudio</strong> Interface<span></span></a><ul>
<li><a href="introduction-to-r.html#bottom-left-pane">Bottom Left Pane<span></span></a></li>
<li><a href="introduction-to-r.html#bottom-right-pane">Bottom Right Pane<span></span></a></li>
<li><a href="introduction-to-r.html#top-right-pane">Top Right Pane<span></span></a></li>
<li><a href="introduction-to-r.html#top-left-pane">Top Left Pane<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#comments"><i class="fa fa-check"></i><b>1.3</b> Comments<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operators"><i class="fa fa-check"></i><b>1.4</b> Operators<span></span></a><ul>
<li><a href="introduction-to-r.html#arithmetic-operators">Arithmetic Operators<span></span></a></li>
<li><a href="introduction-to-r.html#relational-operators">Relational Operators<span></span></a></li>
<li><a href="introduction-to-r.html#logical-operators">Logical operators<span></span></a></li>
<li><a href="introduction-to-r.html#assignment-operators">Assignment Operators<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#naming-conventions"><i class="fa fa-check"></i><b>1.5</b> Naming Conventions<span></span></a></li>
<li><a href="introduction-to-r.html#additional-resources">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="atomic-vectors.html"><a href="atomic-vectors.html"><i class="fa fa-check"></i><b>2</b> Atomic Vectors<span></span></a><ul>
<li class="chapter" data-level="2.1" data-path="atomic-vectors.html"><a href="atomic-vectors.html#examples"><i class="fa fa-check"></i><b>2.1</b> Examples<span></span></a><ul>
<li><a href="atomic-vectors.html#double">Double<span></span></a></li>
<li><a href="atomic-vectors.html#integer">Integer<span></span></a></li>
<li><a href="atomic-vectors.html#logical">Logical<span></span></a></li>
<li><a href="atomic-vectors.html#character">Character<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="atomic-vectors.html"><a href="atomic-vectors.html#basic-features"><i class="fa fa-check"></i><b>2.2</b> Basic Features<span></span></a><ul>
<li class="chapter" data-level="2.2.1" data-path="atomic-vectors.html"><a href="atomic-vectors.html#length"><i class="fa fa-check"></i><b>2.2.1</b> Length<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="atomic-vectors.html"><a href="atomic-vectors.html#vectorized-operations-and-recylcing"><i class="fa fa-check"></i><b>2.2.2</b> Vectorized Operations and Recylcing<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="atomic-vectors.html"><a href="atomic-vectors.html#coercion"><i class="fa fa-check"></i><b>2.2.3</b> Coercion<span></span></a></li>
<li class="chapter" data-level="2.2.4" data-path="atomic-vectors.html"><a href="atomic-vectors.html#testing"><i class="fa fa-check"></i><b>2.2.4</b> Testing<span></span></a></li>
<li class="chapter" data-level="2.2.5" data-path="atomic-vectors.html"><a href="atomic-vectors.html#names"><i class="fa fa-check"></i><b>2.2.5</b> Names<span></span></a></li>
<li class="chapter" data-level="2.2.6" data-path="atomic-vectors.html"><a href="atomic-vectors.html#typeof-and-class"><i class="fa fa-check"></i><b>2.2.6</b> typeof() and class()<span></span></a></li>
<li class="chapter" data-level="2.2.7" data-path="atomic-vectors.html"><a href="atomic-vectors.html#index"><i class="fa fa-check"></i><b>2.2.7</b> Accessing Elements of a Vector<span></span></a></li>
</ul></li>
<li><a href="atomic-vectors.html#summary">Summary<span></span></a></li>
<li><a href="atomic-vectors.html#additional-resources-1">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="factors-and-lists.html"><a href="factors-and-lists.html"><i class="fa fa-check"></i><b>3</b> Factors and Lists<span></span></a><ul>
<li class="chapter" data-level="3.1" data-path="factors-and-lists.html"><a href="factors-and-lists.html#factors"><i class="fa fa-check"></i><b>3.1</b> Factors<span></span></a><ul>
<li class="chapter" data-level="3.1.1" data-path="factors-and-lists.html"><a href="factors-and-lists.html#levels"><i class="fa fa-check"></i><b>3.1.1</b> Levels<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="factors-and-lists.html"><a href="factors-and-lists.html#ordered-factor"><i class="fa fa-check"></i><b>3.1.2</b> Ordered Factor<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="factors-and-lists.html"><a href="factors-and-lists.html#factors---basic-features"><i class="fa fa-check"></i><b>3.2</b> Factors - Basic Features<span></span></a><ul>
<li class="chapter" data-level="3.2.1" data-path="factors-and-lists.html"><a href="factors-and-lists.html#length-1"><i class="fa fa-check"></i><b>3.2.1</b> Length<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="factors-and-lists.html"><a href="factors-and-lists.html#coercion-1"><i class="fa fa-check"></i><b>3.2.2</b> Coercion<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="factors-and-lists.html"><a href="factors-and-lists.html#testingclass"><i class="fa fa-check"></i><b>3.2.3</b> Testing/Class<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="factors-and-lists.html"><a href="factors-and-lists.html#names-1"><i class="fa fa-check"></i><b>3.2.4</b> Names<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="factors-and-lists.html"><a href="factors-and-lists.html#accessing-elements"><i class="fa fa-check"></i><b>3.2.5</b> Accessing Elements<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="factors-and-lists.html"><a href="factors-and-lists.html#frequency-tables"><i class="fa fa-check"></i><b>3.2.6</b> Frequency Tables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="factors-and-lists.html"><a href="factors-and-lists.html#lists"><i class="fa fa-check"></i><b>3.3</b> Lists<span></span></a><ul>
<li class="chapter" data-level="3.3.1" data-path="factors-and-lists.html"><a href="factors-and-lists.html#nested-lists"><i class="fa fa-check"></i><b>3.3.1</b> Nested Lists<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="factors-and-lists.html"><a href="factors-and-lists.html#list---basic-features"><i class="fa fa-check"></i><b>3.4</b> List - Basic Features<span></span></a><ul>
<li class="chapter" data-level="3.4.1" data-path="factors-and-lists.html"><a href="factors-and-lists.html#length-2"><i class="fa fa-check"></i><b>3.4.1</b> Length<span></span></a></li>
<li class="chapter" data-level="3.4.2" data-path="factors-and-lists.html"><a href="factors-and-lists.html#coercion-2"><i class="fa fa-check"></i><b>3.4.2</b> Coercion<span></span></a></li>
<li class="chapter" data-level="3.4.3" data-path="factors-and-lists.html"><a href="factors-and-lists.html#testingclass-1"><i class="fa fa-check"></i><b>3.4.3</b> Testing/Class<span></span></a></li>
<li class="chapter" data-level="3.4.4" data-path="factors-and-lists.html"><a href="factors-and-lists.html#names-2"><i class="fa fa-check"></i><b>3.4.4</b> Names<span></span></a></li>
<li class="chapter" data-level="3.4.5" data-path="factors-and-lists.html"><a href="factors-and-lists.html#accessing-elements-1"><i class="fa fa-check"></i><b>3.4.5</b> Accessing Elements<span></span></a></li>
</ul></li>
<li><a href="factors-and-lists.html#summary-1">Summary<span></span></a></li>
<li><a href="factors-and-lists.html#additional-resources-2">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html"><i class="fa fa-check"></i><b>4</b> Matrices, Data Frames, and More<span></span></a><ul>
<li class="chapter" data-level="4.1" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#matrices"><i class="fa fa-check"></i><b>4.1</b> Matrices<span></span></a><ul>
<li class="chapter" data-level="4.1.1" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#vectorized-operations"><i class="fa fa-check"></i><b>4.1.1</b> Vectorized Operations<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#data-frames"><i class="fa fa-check"></i><b>4.2</b> Data Frames<span></span></a><ul>
<li class="chapter" data-level="4.2.1" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#column-names"><i class="fa fa-check"></i><b>4.2.1</b> Column Names<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#basic-features-of-matricesdata-frames"><i class="fa fa-check"></i><b>4.3</b> Basic Features of Matrices/Data-Frames<span></span></a><ul>
<li class="chapter" data-level="4.3.1" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#dimensions"><i class="fa fa-check"></i><b>4.3.1</b> Dimensions<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#accesing-elements"><i class="fa fa-check"></i><b>4.3.2</b> Accesing Elements<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#coercion-3"><i class="fa fa-check"></i><b>4.3.3</b> Coercion<span></span></a></li>
<li class="chapter" data-level="4.3.4" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#testingclass-2"><i class="fa fa-check"></i><b>4.3.4</b> Testing/Class<span></span></a></li>
<li class="chapter" data-level="4.3.5" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#names-3"><i class="fa fa-check"></i><b>4.3.5</b> Names<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="matrices-data-frames-and-more.html"><a href="matrices-data-frames-and-more.html#other-object-types-and-the-global-environment"><i class="fa fa-check"></i><b>4.4</b> Other Object Types and the Global Environment<span></span></a></li>
<li><a href="matrices-data-frames-and-more.html#summary-2">Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i><b>5</b> Indexing<span></span></a><ul>
<li class="chapter" data-level="5.1" data-path="indexing.html"><a href="indexing.html#VectorIndex"><i class="fa fa-check"></i><b>5.1</b> Atomic Vectors and Factors<span></span></a><ul>
<li><a href="indexing.html#example-positive-integers">Example: Positive Integers<span></span></a></li>
<li><a href="indexing.html#example-negative-integers">Example: Negative Integers<span></span></a></li>
<li><a href="indexing.html#example-logical-values">Example: Logical Values<span></span></a></li>
<li><a href="indexing.html#example-names">Example: Names<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="indexing.html"><a href="indexing.html#lists-1"><i class="fa fa-check"></i><b>5.2</b> Lists<span></span></a><ul>
<li class="chapter" data-level="5.2.1" data-path="indexing.html"><a href="indexing.html#double-brackets"><i class="fa fa-check"></i><b>5.2.1</b> Double Brackets<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="indexing.html"><a href="indexing.html#dollar-sign"><i class="fa fa-check"></i><b>5.2.2</b> Dollar Sign<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="indexing.html"><a href="indexing.html#matrices-1"><i class="fa fa-check"></i><b>5.3</b> Matrices<span></span></a><ul>
<li class="chapter" data-level="5.3.1" data-path="indexing.html"><a href="indexing.html#two-vectors"><i class="fa fa-check"></i><b>5.3.1</b> Two Vectors<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="indexing.html"><a href="indexing.html#single-vector"><i class="fa fa-check"></i><b>5.3.2</b> Single Vector<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="indexing.html"><a href="indexing.html#data-frames-1"><i class="fa fa-check"></i><b>5.4</b> Data frames<span></span></a><ul>
<li><a href="indexing.html#example-double-brackets">Example: Double brackets<span></span></a></li>
<li><a href="indexing.html#example-dollar-sign">Example: Dollar Sign<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="indexing.html"><a href="indexing.html#features-and-applications"><i class="fa fa-check"></i><b>5.5</b> Features and Applications<span></span></a><ul>
<li class="chapter" data-level="5.5.1" data-path="indexing.html"><a href="indexing.html#indexing-and-reassignment"><i class="fa fa-check"></i><b>5.5.1</b> Indexing and Reassignment<span></span></a></li>
<li class="chapter" data-level="5.5.2" data-path="indexing.html"><a href="indexing.html#orderinginteger-indexing"><i class="fa fa-check"></i><b>5.5.2</b> Ordering/Integer Indexing<span></span></a></li>
<li class="chapter" data-level="5.5.3" data-path="indexing.html"><a href="indexing.html#adding-elementsrowscolumns"><i class="fa fa-check"></i><b>5.5.3</b> Adding Elements/Rows/Columns<span></span></a></li>
<li class="chapter" data-level="5.5.4" data-path="indexing.html"><a href="indexing.html#delete-elementsrowscolumns"><i class="fa fa-check"></i><b>5.5.4</b> Delete Elements/Rows/Columns<span></span></a></li>
<li class="chapter" data-level="5.5.5" data-path="indexing.html"><a href="indexing.html#select-based-on-condition"><i class="fa fa-check"></i><b>5.5.5</b> Select Based on Condition<span></span></a></li>
<li class="chapter" data-level="5.5.6" data-path="indexing.html"><a href="indexing.html#convert-indexing-techniques"><i class="fa fa-check"></i><b>5.5.6</b> Convert Indexing Techniques<span></span></a></li>
</ul></li>
<li><a href="indexing.html#summary-3">Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html"><i class="fa fa-check"></i><b>6</b> Working with Data Sets<span></span></a><ul>
<li class="chapter" data-level="6.1" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#LoadData"><i class="fa fa-check"></i><b>6.1</b> Getting Data Sets in Our Working Environment<span></span></a><ul>
<li><a href="working-with-data-sets.html#built-in-data">Built-In Data<span></span></a></li>
<li><a href="working-with-data-sets.html#importing-from-your-computer">Importing From Your Computer<span></span></a></li>
<li><a href="working-with-data-sets.html#import-from-online">Import From Online<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#basic-data-manipulation"><i class="fa fa-check"></i><b>6.2</b> Basic Data Manipulation<span></span></a><ul>
<li><a href="working-with-data-sets.html#subset">Subset<span></span></a></li>
<li><a href="working-with-data-sets.html#adding-columns">Adding Columns<span></span></a></li>
<li><a href="working-with-data-sets.html#na-values">NA values<span></span></a></li>
<li><a href="working-with-data-sets.html#null">NULL<span></span></a></li>
<li><a href="working-with-data-sets.html#adding-rows">Adding Rows<span></span></a></li>
</ul></li>
<li><a href="working-with-data-sets.html#summary-4">Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>7</b> Functions<span></span></a><ul>
<li class="chapter" data-level="7.1" data-path="functions.html"><a href="functions.html#build-your-own-function"><i class="fa fa-check"></i><b>7.1</b> Build Your Own Function<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="functions.html"><a href="functions.html#lexical-scoping"><i class="fa fa-check"></i><b>7.2</b> Lexical Scoping<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="functions.html"><a href="functions.html#built-in-functions"><i class="fa fa-check"></i><b>7.3</b> Built-In Functions<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="functions.html"><a href="functions.html#help-files"><i class="fa fa-check"></i><b>7.4</b> Help Files<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="functions.html"><a href="functions.html#the-argument"><i class="fa fa-check"></i><b>7.5</b> The … Argument<span></span></a></li>
<li class="chapter" data-level="7.6" data-path="functions.html"><a href="functions.html#generic-functions"><i class="fa fa-check"></i><b>7.6</b> Generic Functions<span></span></a></li>
<li><a href="functions.html#additional-resources-3">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="if-statements.html"><a href="if-statements.html"><i class="fa fa-check"></i><b>8</b> If Statements<span></span></a><ul>
<li class="chapter" data-level="8.1" data-path="if-statements.html"><a href="if-statements.html#if"><i class="fa fa-check"></i><b>8.1</b> If<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="if-statements.html"><a href="if-statements.html#if-else"><i class="fa fa-check"></i><b>8.2</b> If Else<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="if-statements.html"><a href="if-statements.html#else-if"><i class="fa fa-check"></i><b>8.3</b> Else If<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="if-statements.html"><a href="if-statements.html#ifelse"><i class="fa fa-check"></i><b>8.4</b> Ifelse<span></span></a></li>
<li class="chapter" data-level="8.5" data-path="if-statements.html"><a href="if-statements.html#nested-if-chains"><i class="fa fa-check"></i><b>8.5</b> Nested If Chains<span></span></a></li>
<li><a href="if-statements.html#additional-resources-4">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="base-r-plotting.html"><a href="base-r-plotting.html"><i class="fa fa-check"></i><b>9</b> Base R Plotting<span></span></a><ul>
<li class="chapter" data-level="9.1" data-path="base-r-plotting.html"><a href="base-r-plotting.html#load-a-big-data-set"><i class="fa fa-check"></i><b>9.1</b> Load A Big Data Set<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="base-r-plotting.html"><a href="base-r-plotting.html#histograms"><i class="fa fa-check"></i><b>9.2</b> Histograms<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="base-r-plotting.html"><a href="base-r-plotting.html#boxplot"><i class="fa fa-check"></i><b>9.3</b> Boxplot<span></span></a></li>
<li class="chapter" data-level="9.4" data-path="base-r-plotting.html"><a href="base-r-plotting.html#scatter-plot"><i class="fa fa-check"></i><b>9.4</b> Scatter Plot<span></span></a></li>
<li class="chapter" data-level="9.5" data-path="base-r-plotting.html"><a href="base-r-plotting.html#pie-charts"><i class="fa fa-check"></i><b>9.5</b> Pie Charts<span></span></a></li>
<li class="chapter" data-level="9.6" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-straight-lines"><i class="fa fa-check"></i><b>9.6</b> Adding Straight Lines<span></span></a></li>
<li class="chapter" data-level="9.7" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-lines-between-points"><i class="fa fa-check"></i><b>9.7</b> Adding Lines Between Points<span></span></a></li>
<li class="chapter" data-level="9.8" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-individual-points"><i class="fa fa-check"></i><b>9.8</b> Adding Individual Points<span></span></a></li>
<li class="chapter" data-level="9.9" data-path="base-r-plotting.html"><a href="base-r-plotting.html#the-par-help-file"><i class="fa fa-check"></i><b>9.9</b> The par() Help File<span></span></a></li>
<li class="chapter" data-level="9.10" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-legends"><i class="fa fa-check"></i><b>9.10</b> Adding Legends<span></span></a></li>
<li class="chapter" data-level="9.11" data-path="base-r-plotting.html"><a href="base-r-plotting.html#what-makes-a-good-plot"><i class="fa fa-check"></i><b>9.11</b> What makes a good plot?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>10</b> Packages<span></span></a><ul>
<li class="chapter" data-level="10.1" data-path="packages.html"><a href="packages.html#namespace-collisions"><i class="fa fa-check"></i><b>10.1</b> Namespace Collisions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="extending-base-r-graphics.html"><a href="extending-base-r-graphics.html"><i class="fa fa-check"></i><b>11</b> Extending Base R Graphics<span></span></a><ul>
<li class="chapter" data-level="11.1" data-path="extending-base-r-graphics.html"><a href="extending-base-r-graphics.html#the-maps-package"><i class="fa fa-check"></i><b>11.1</b> The “maps” Package<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="extending-base-r-graphics.html"><a href="extending-base-r-graphics.html#some-additional-packages-to-consider"><i class="fa fa-check"></i><b>11.2</b> Some additional Packages to consider<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>12</b> Loops<span></span></a><ul>
<li class="chapter" data-level="12.1" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>12.1</b> While Loop<span></span></a></li>
<li class="chapter" data-level="12.2" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>12.2</b> For Loops<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="loops.html"><a href="loops.html#break"><i class="fa fa-check"></i><b>12.3</b> Break<span></span></a></li>
<li class="chapter" data-level="12.4" data-path="loops.html"><a href="loops.html#next"><i class="fa fa-check"></i><b>12.4</b> Next<span></span></a></li>
<li class="chapter" data-level="12.5" data-path="loops.html"><a href="loops.html#nested-loops"><i class="fa fa-check"></i><b>12.5</b> Nested Loops<span></span></a></li>
<li class="chapter" data-level="12.6" data-path="loops.html"><a href="loops.html#examples-1"><i class="fa fa-check"></i><b>12.6</b> Examples<span></span></a><ul>
<li class="chapter" data-level="12.6.1" data-path="loops.html"><a href="loops.html#example-1"><i class="fa fa-check"></i><b>12.6.1</b> Example 1<span></span></a></li>
<li class="chapter" data-level="12.6.2" data-path="loops.html"><a href="loops.html#example-2"><i class="fa fa-check"></i><b>12.6.2</b> Example 2<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="loops.html"><a href="loops.html#additional-resources-5"><i class="fa fa-check"></i><b>12.7</b> Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="apply.html"><a href="apply.html"><i class="fa fa-check"></i><b>13</b> Apply Family of Functions<span></span></a><ul>
<li class="chapter" data-level="13.1" data-path="apply.html"><a href="apply.html#apply-1"><i class="fa fa-check"></i><b>13.1</b> apply()<span></span></a><ul>
<li><a href="apply.html#example-built-in-function">Example: Built In Function<span></span></a></li>
<li><a href="apply.html#example-user-defined-function">Example: User Defined Function<span></span></a></li>
<li class="chapter" data-level="13.1.1" data-path="apply.html"><a href="apply.html#returned-objects"><i class="fa fa-check"></i><b>13.1.1</b> Returned Objects<span></span></a></li>
<li class="chapter" data-level="13.1.2" data-path="apply.html"><a href="apply.html#example-extra-arguments-array-output"><i class="fa fa-check"></i><b>13.1.2</b> Example: Extra Arguments, Array Output<span></span></a></li>
<li class="chapter" data-level="13.1.3" data-path="apply.html"><a href="apply.html#example-list-output"><i class="fa fa-check"></i><b>13.1.3</b> Example: List Output<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="apply.html"><a href="apply.html#lapply"><i class="fa fa-check"></i><b>13.2</b> lapply()<span></span></a></li>
<li class="chapter" data-level="13.3" data-path="apply.html"><a href="apply.html#sapply"><i class="fa fa-check"></i><b>13.3</b> sapply()<span></span></a></li>
<li class="chapter" data-level="13.4" data-path="apply.html"><a href="apply.html#tapply"><i class="fa fa-check"></i><b>13.4</b> tapply()<span></span></a></li>
<li class="chapter" data-level="13.5" data-path="apply.html"><a href="apply.html#mapply"><i class="fa fa-check"></i><b>13.5</b> mapply()<span></span></a></li>
<li class="chapter" data-level="13.6" data-path="apply.html"><a href="apply.html#replicate"><i class="fa fa-check"></i><b>13.6</b> replicate()<span></span></a></li>
<li class="chapter" data-level="13.7" data-path="apply.html"><a href="apply.html#how-to-pick-a-method"><i class="fa fa-check"></i><b>13.7</b> How to Pick a Method<span></span></a></li>
<li class="chapter" data-level="13.8" data-path="apply.html"><a href="apply.html#more-examples"><i class="fa fa-check"></i><b>13.8</b> More Examples<span></span></a><ul>
<li class="chapter" data-level="13.8.1" data-path="apply.html"><a href="apply.html#create-a-new-variable"><i class="fa fa-check"></i><b>13.8.1</b> Create a New Variable<span></span></a></li>
</ul></li>
<li><a href="apply.html#additional-resources-6">Additional Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>14</b> Simulation<span></span></a><ul>
<li class="chapter" data-level="14.1" data-path="simulation.html"><a href="simulation.html#what-are-simulation-studies"><i class="fa fa-check"></i><b>14.1</b> What Are Simulation Studies<span></span></a></li>
<li class="chapter" data-level="14.2" data-path="simulation.html"><a href="simulation.html#review-random-variables"><i class="fa fa-check"></i><b>14.2</b> Review Random Variables<span></span></a></li>
<li class="chapter" data-level="14.3" data-path="simulation.html"><a href="simulation.html#generating-random-variables"><i class="fa fa-check"></i><b>14.3</b> Generating Random Variables<span></span></a></li>
<li class="chapter" data-level="14.4" data-path="simulation.html"><a href="simulation.html#setting-a-seed"><i class="fa fa-check"></i><b>14.4</b> Setting a Seed<span></span></a></li>
<li class="chapter" data-level="14.5" data-path="simulation.html"><a href="simulation.html#sample"><i class="fa fa-check"></i><b>14.5</b> sample()<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="simulation.html"><a href="simulation.html#replicate-1"><i class="fa fa-check"></i><b>14.6</b> replicate()<span></span></a></li>
<li class="chapter" data-level="14.7" data-path="simulation.html"><a href="simulation.html#adding-curves-to-graphs"><i class="fa fa-check"></i><b>14.7</b> Adding curves to graphs<span></span></a></li>
<li class="chapter" data-level="14.8" data-path="simulation.html"><a href="simulation.html#example-central-limit-theorem-clt"><i class="fa fa-check"></i><b>14.8</b> Example: Central Limit Theorem (CLT)<span></span></a><ul>
<li class="chapter" data-level="14.8.1" data-path="simulation.html"><a href="simulation.html#recall-clt"><i class="fa fa-check"></i><b>14.8.1</b> Recall CLT<span></span></a></li>
<li class="chapter" data-level="14.8.2" data-path="simulation.html"><a href="simulation.html#assumption-violations-of-clt"><i class="fa fa-check"></i><b>14.8.2</b> Assumption Violations of CLT<span></span></a></li>
<li class="chapter" data-level="14.8.3" data-path="simulation.html"><a href="simulation.html#the-data"><i class="fa fa-check"></i><b>14.8.3</b> The Data<span></span></a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 107 Outline of Class Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="apply" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 13</span> Apply Family of Functions<a href="apply.html#apply" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Loops (like <code>for</code>, and <code>while</code>) are a way to repeatedly execute some code. However, they are often slow in execution when it comes to processing large data sets.</p>
<p><code>R</code> has a more efficient and quick approach to perform iterations – <strong>The apply family</strong>.</p>
<p>The apply family consists of vectorized functions. Below are the most common forms of apply functions.</p>
<ul>
<li><code>apply()</code></li>
<li><code>lapply()</code></li>
<li><code>sapply()</code></li>
<li><code>tapply()</code></li>
<li><code>mapply()</code></li>
<li><code>replicate()</code></li>
</ul>
<p>These functions let you take data in batches and process the whole batch at once.</p>
<p>There primary difference is in the object (such as list, matrix, data frame etc.) on which the function is applied to and the object that will be returned from the function.</p>
<p>These functions apply a function to different components of a vector/list/dataframe/array in a non-sequential way. In general, if each element in your object is not dependent on the other elements of your object then an apply function is usually faster than a loop.</p>
<p><img src="images/lapplyGraphic.png" width="30%" style="display: block; margin: auto;" /></p>
<div id="apply-1" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.1</span> apply()<a href="apply.html#apply-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>apply()</code>function is used to apply a function to the rows or columns of arrays (matrices). It assembles the returned values, and then returns it in a vector, array, or list.</p>
<p>If you want to apply a function on a data frame, make sure that the data frame is homogeneous (i.e. either all numeric values or all character strings). Otherwise, R will force all columns to have identical types using <code>as.matrix()</code>. This may not be what you want. In that case, you might consider using the <code>lapply()</code> or <code>sapply()</code> functions instead.</p>
<p>Description of the required <code>apply()</code> arguments:</p>
<ul>
<li><code>X</code>: A array (or matrix)</li>
<li><code>MARGIN</code>: A vector giving the subscripts which the function will be applied over.
<ul>
<li>1 indicates rows</li>
<li>2 indicates columns</li>
<li>c(1, 2) indicates rows and columns</li>
</ul></li>
<li><code>FUN</code>: The function to be applied</li>
<li><code>...</code>: Additional arguments to be passed to “FUN”</li>
</ul>
<div id="example-built-in-function" class="section level3 unnumbered hasAnchor">
<h3>Example: Built In Function<a href="apply.html#example-built-in-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="apply.html#cb580-1"></a><span class="co"># Get column means </span></span>
<span id="cb580-2"><a href="apply.html#cb580-2"></a>data &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">3</span>)</span>
<span id="cb580-3"><a href="apply.html#cb580-3"></a>data</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="apply.html#cb582-1"></a><span class="kw">apply</span>(data, <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>## [1] 2 5 8</code></pre>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="apply.html#cb584-1"></a><span class="co"># Get row means </span></span>
<span id="cb584-2"><a href="apply.html#cb584-2"></a><span class="kw">apply</span>(data, <span class="dv">1</span>, sum)</span></code></pre></div>
<pre><code>## [1] 12 15 18</code></pre>
</div>
<div id="example-user-defined-function" class="section level3 unnumbered hasAnchor">
<h3>Example: User Defined Function<a href="apply.html#example-user-defined-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can use user-defined functions as well.</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="apply.html#cb586-1"></a><span class="kw">apply</span>(data, <span class="dv">2</span>, <span class="cf">function</span>(x){</span>
<span id="cb586-2"><a href="apply.html#cb586-2"></a>  </span>
<span id="cb586-3"><a href="apply.html#cb586-3"></a>  <span class="co"># Standard deviation formula </span></span>
<span id="cb586-4"><a href="apply.html#cb586-4"></a>  y &lt;-<span class="st"> </span><span class="kw">sum</span>(x <span class="op">-</span><span class="kw">mean</span>(x))<span class="op">^</span><span class="dv">2</span><span class="op">/</span>(<span class="kw">length</span>(x)<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb586-5"><a href="apply.html#cb586-5"></a>  </span>
<span id="cb586-6"><a href="apply.html#cb586-6"></a>  <span class="kw">return</span>(y)</span>
<span id="cb586-7"><a href="apply.html#cb586-7"></a>  })</span></code></pre></div>
<pre><code>## [1] 0 0 0</code></pre>
</div>
<div id="returned-objects" class="section level3 hasAnchor">
<h3><span class="header-section-number">13.1.1</span> Returned Objects<a href="apply.html#returned-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The values that <code>apply()</code> returns depends on the function <code>FUN</code>. If <code>FUN</code> returns an element of length 1, then <code>apply()</code> will return a vector. If <code>FUN</code> <em>always</em> returns an element of length <code>n</code>&gt;1, then <code>apply()</code> will return a matrix with <code>n</code> rows, and the number of columns will correspond to how many rows/columns were iterated over. Lastly, if <code>FUN</code> returns an object that would vary in length, then <code>apply()</code> will return a list where each element corresponds to a row or column that was iterated over. In short, <code>apply()</code> prioritizes returning a vector, array (or matrix), and list (in that order). What is returned depends on the output of <code>FUN</code>.</p>
</div>
<div id="example-extra-arguments-array-output" class="section level3 hasAnchor">
<h3><span class="header-section-number">13.1.2</span> Example: Extra Arguments, Array Output<a href="apply.html#example-extra-arguments-array-output" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="apply.html#cb588-1"></a>x &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">x1 =</span> <span class="dv">3</span>, <span class="dt">x2 =</span> <span class="kw">c</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>))</span>
<span id="cb588-2"><a href="apply.html#cb588-2"></a></span>
<span id="cb588-3"><a href="apply.html#cb588-3"></a>fun1 &lt;-<span class="st"> </span><span class="cf">function</span>(x, c1, c2){</span>
<span id="cb588-4"><a href="apply.html#cb588-4"></a>  mean_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">mean</span>(x[c1]), <span class="kw">mean</span>(x[c2]))</span>
<span id="cb588-5"><a href="apply.html#cb588-5"></a>  <span class="kw">return</span>(mean_vec)</span>
<span id="cb588-6"><a href="apply.html#cb588-6"></a>}</span>
<span id="cb588-7"><a href="apply.html#cb588-7"></a></span>
<span id="cb588-8"><a href="apply.html#cb588-8"></a><span class="kw">apply</span>(x, <span class="dv">1</span>, fun1,  <span class="dt">c1 =</span> <span class="st">&quot;x1&quot;</span>, <span class="dt">c2 =</span> <span class="kw">c</span>(<span class="st">&quot;x1&quot;</span>,<span class="st">&quot;x2&quot;</span>))</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
## [1,]  3.0    3  3.0    3  3.0    3  3.0    3
## [2,]  3.5    3  2.5    2  2.5    3  3.5    4</code></pre>
</div>
<div id="example-list-output" class="section level3 hasAnchor">
<h3><span class="header-section-number">13.1.3</span> Example: List Output<a href="apply.html#example-list-output" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="apply.html#cb590-1"></a>mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, </span>
<span id="cb590-2"><a href="apply.html#cb590-2"></a>                <span class="dv">2</span>, <span class="dv">-2</span>, <span class="dv">20</span>, </span>
<span id="cb590-3"><a href="apply.html#cb590-3"></a>                <span class="dv">62</span>,<span class="op">-</span><span class="dv">2</span>, <span class="dv">-6</span>), <span class="dt">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb590-4"><a href="apply.html#cb590-4"></a></span>
<span id="cb590-5"><a href="apply.html#cb590-5"></a>CheckPos &lt;-<span class="st"> </span><span class="cf">function</span>(Vec){</span>
<span id="cb590-6"><a href="apply.html#cb590-6"></a>  <span class="co"># Subset values of Vec that are even</span></span>
<span id="cb590-7"><a href="apply.html#cb590-7"></a>  PosVec &lt;-<span class="st"> </span>Vec[Vec <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</span>
<span id="cb590-8"><a href="apply.html#cb590-8"></a>  </span>
<span id="cb590-9"><a href="apply.html#cb590-9"></a>  <span class="co"># Return only the even values</span></span>
<span id="cb590-10"><a href="apply.html#cb590-10"></a>  <span class="kw">return</span>(PosVec)</span>
<span id="cb590-11"><a href="apply.html#cb590-11"></a>}</span>
<span id="cb590-12"><a href="apply.html#cb590-12"></a></span>
<span id="cb590-13"><a href="apply.html#cb590-13"></a><span class="co"># Check Positive values by column </span></span>
<span id="cb590-14"><a href="apply.html#cb590-14"></a><span class="kw">apply</span>(mat, <span class="dv">2</span>, CheckPos)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1]  2 20
## 
## [[3]]
## [1] 62</code></pre>
</div>
</div>
<div id="lapply" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.2</span> lapply()<a href="apply.html#lapply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>lapply()</code> function is used to apply a function to each element of the list. It collects the returned values into a list, and then <strong>returns that list</strong> which is of the same length.</p>
<p>Description of the required <code>lapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A list</li>
<li><code>FUN</code>: The function to be applied</li>
<li><code>...</code>: Additional arguments to be passed to <code>FUN</code></li>
</ul>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="apply.html#cb592-1"></a>data_lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">item1 =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,</span>
<span id="cb592-2"><a href="apply.html#cb592-2"></a>                <span class="dt">item2 =</span> <span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">36</span>,<span class="dv">8</span>),</span>
<span id="cb592-3"><a href="apply.html#cb592-3"></a>                <span class="dt">item3 =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb592-4"><a href="apply.html#cb592-4"></a>data_lst </span></code></pre></div>
<pre><code>## $item1
## [1] 1 2 3 4 5
## 
## $item2
## [1]  4 12 20 28 36
## 
## $item3
## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="apply.html#cb594-1"></a>data_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb594-2"><a href="apply.html#cb594-2"></a>data_vector</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="apply.html#cb596-1"></a><span class="kw">lapply</span>(data_lst, sum)</span></code></pre></div>
<pre><code>## $item1
## [1] 15
## 
## $item2
## [1] 100
## 
## $item3
## [1] 25</code></pre>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="apply.html#cb598-1"></a><span class="kw">lapply</span>(data_vector, sum)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3
## 
## [[4]]
## [1] 4
## 
## [[5]]
## [1] 5
## 
## [[6]]
## [1] 6
## 
## [[7]]
## [1] 7
## 
## [[8]]
## [1] 8</code></pre>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="apply.html#cb600-1"></a>x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, </span>
<span id="cb600-2"><a href="apply.html#cb600-2"></a>          <span class="dt">beta =</span> <span class="kw">exp</span>(<span class="op">-</span><span class="dv">3</span><span class="op">:</span><span class="dv">3</span>), </span>
<span id="cb600-3"><a href="apply.html#cb600-3"></a>          <span class="dt">logic =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>))</span>
<span id="cb600-4"><a href="apply.html#cb600-4"></a></span>
<span id="cb600-5"><a href="apply.html#cb600-5"></a><span class="co"># compute the list mean for each list element</span></span>
<span id="cb600-6"><a href="apply.html#cb600-6"></a><span class="kw">lapply</span>(x, mean)</span></code></pre></div>
<pre><code>## $a
## [1] 5.5
## 
## $beta
## [1] 4.535125
## 
## $logic
## [1] 0.5</code></pre>
<p>Unlike <code>apply()</code>, <code>lapply()</code> will always return a list. If the argument <code>X</code> is an object that is something other than a list then the <code>as.list()</code> function will be used to convert that object. Consider the built-in data set <code>iris</code> in R. If we use the <code>as.list()</code> function, each column will be converted into an element of a list.</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="apply.html#cb602-1"></a><span class="kw">head</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="apply.html#cb604-1"></a><span class="kw">str</span>(<span class="kw">as.list</span>(iris))</span></code></pre></div>
<pre><code>## List of 5
##  $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Then if we use <code>lapply()</code> it will iterate over the columns. We can find all values within a column that are bigger than the column mean (just looking at the numeric columns though).</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="apply.html#cb606-1"></a><span class="kw">lapply</span>(iris[,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="cf">function</span>(column){</span>
<span id="cb606-2"><a href="apply.html#cb606-2"></a>  big_values &lt;-<span class="st"> </span>column[column <span class="op">&gt;</span><span class="st"> </span><span class="kw">mean</span>(column)]</span>
<span id="cb606-3"><a href="apply.html#cb606-3"></a>  <span class="kw">return</span>(big_values)</span>
<span id="cb606-4"><a href="apply.html#cb606-4"></a>})</span></code></pre></div>
<pre><code>## $Sepal.Length
##  [1] 7.0 6.4 6.9 6.5 6.3 6.6 5.9 6.0 6.1 6.7 6.2 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7
## [20] 6.0 6.0 6.0 6.7 6.3 6.1 6.2 6.3 7.1 6.3 6.5 7.6 7.3 6.7 7.2 6.5 6.4 6.8 6.4
## [39] 6.5 7.7 7.7 6.0 6.9 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7
## [58] 6.3 6.4 6.0 6.9 6.7 6.9 6.8 6.7 6.7 6.3 6.5 6.2 5.9
## 
## $Sepal.Width
##  [1] 3.5 3.2 3.1 3.6 3.9 3.4 3.4 3.1 3.7 3.4 4.0 4.4 3.9 3.5 3.8 3.8 3.4 3.7 3.6
## [20] 3.3 3.4 3.4 3.5 3.4 3.2 3.1 3.4 4.1 4.2 3.1 3.2 3.5 3.6 3.4 3.5 3.2 3.5 3.8
## [39] 3.8 3.2 3.7 3.3 3.2 3.2 3.1 3.3 3.1 3.2 3.4 3.1 3.3 3.6 3.2 3.2 3.8 3.2 3.3
## [58] 3.2 3.8 3.4 3.1 3.1 3.1 3.1 3.2 3.3 3.4
## 
## $Petal.Length
##  [1] 4.7 4.5 4.9 4.0 4.6 4.5 4.7 4.6 3.9 4.2 4.0 4.7 4.4 4.5 4.1 4.5 3.9 4.8 4.0
## [20] 4.9 4.7 4.3 4.4 4.8 5.0 4.5 3.8 3.9 5.1 4.5 4.5 4.7 4.4 4.1 4.0 4.4 4.6 4.0
## [39] 4.2 4.2 4.2 4.3 4.1 6.0 5.1 5.9 5.6 5.8 6.6 4.5 6.3 5.8 6.1 5.1 5.3 5.5 5.0
## [58] 5.1 5.3 5.5 6.7 6.9 5.0 5.7 4.9 6.7 4.9 5.7 6.0 4.8 4.9 5.6 5.8 6.1 6.4 5.6
## [77] 5.1 5.6 6.1 5.6 5.5 4.8 5.4 5.6 5.1 5.1 5.9 5.7 5.2 5.0 5.2 5.4 5.1
## 
## $Petal.Width
##  [1] 1.4 1.5 1.5 1.3 1.5 1.3 1.6 1.3 1.4 1.5 1.4 1.3 1.4 1.5 1.5 1.8 1.3 1.5 1.2
## [20] 1.3 1.4 1.4 1.7 1.5 1.2 1.6 1.5 1.6 1.5 1.3 1.3 1.3 1.2 1.4 1.2 1.3 1.2 1.3
## [39] 1.3 1.3 2.5 1.9 2.1 1.8 2.2 2.1 1.7 1.8 1.8 2.5 2.0 1.9 2.1 2.0 2.4 2.3 1.8
## [58] 2.2 2.3 1.5 2.3 2.0 2.0 1.8 2.1 1.8 1.8 1.8 2.1 1.6 1.9 2.0 2.2 1.5 1.4 2.3
## [77] 2.4 1.8 1.8 2.1 2.4 2.3 1.9 2.3 2.5 2.3 1.9 2.0 2.3 1.8</code></pre>
</div>
<div id="sapply" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.3</span> sapply()<a href="apply.html#sapply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>sapply()</code> and <code>lapply()</code> work basically the same.</p>
<p>The only difference is that <code>lapply()</code> always returns a list, whereas <code>sapply()</code> tries to simplify the result into a vector or matrix. The output for <code>sapply()</code> is just like the output of <code>apply()</code>, it depends on the dimensions of the returned value for <code>FUN</code>.</p>
<ul>
<li><p>If the return value is a list where every element is length 1, you get a vector.</p></li>
<li><p>If the return value is a list where every element is a vector of the same length (&gt; 1), you get a matrix.</p></li>
<li><p>If the lengths vary, simplification is impossible and you get a list.</p></li>
</ul>
<p>Description of the required <code>sapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A list</li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="apply.html#cb608-1"></a>data_lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">item1 =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,</span>
<span id="cb608-2"><a href="apply.html#cb608-2"></a>                 <span class="dt">item2 =</span> <span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">36</span>,<span class="dv">8</span>),</span>
<span id="cb608-3"><a href="apply.html#cb608-3"></a>                 <span class="dt">item3 =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb608-4"><a href="apply.html#cb608-4"></a>data_lst</span></code></pre></div>
<pre><code>## $item1
## [1] 1 2 3 4 5
## 
## $item2
## [1]  4 12 20 28 36
## 
## $item3
## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="apply.html#cb610-1"></a><span class="kw">sapply</span>(data_lst, sum)</span></code></pre></div>
<pre><code>## item1 item2 item3 
##    15   100    25</code></pre>
</div>
<div id="tapply" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.4</span> tapply()<a href="apply.html#tapply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>tapply()</code> function breaks the data set up into groups and applies a function to each group.</p>
<p>Description of the required <code>sapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A 1 dimensional object</li>
<li><code>INDEX</code>: A grouping factor or a list of factors</li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="apply.html#cb612-1"></a>data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Amy&quot;</span>,<span class="st">&quot;Max&quot;</span>,<span class="st">&quot;Ray&quot;</span>,<span class="st">&quot;Kim&quot;</span>,<span class="st">&quot;Sam&quot;</span>,<span class="st">&quot;Eve&quot;</span>,<span class="st">&quot;Bob&quot;</span>), </span>
<span id="cb612-2"><a href="apply.html#cb612-2"></a>                  <span class="dt">age=</span><span class="kw">c</span>(<span class="dv">24</span>, <span class="dv">22</span>, <span class="dv">21</span>, <span class="dv">23</span>, <span class="dv">20</span>, <span class="dv">24</span>, <span class="dv">21</span>),</span>
<span id="cb612-3"><a href="apply.html#cb612-3"></a>                  <span class="dt">gender=</span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>))) </span>
<span id="cb612-4"><a href="apply.html#cb612-4"></a></span>
<span id="cb612-5"><a href="apply.html#cb612-5"></a>data</span></code></pre></div>
<pre><code>##   name age gender
## 1  Amy  24      F
## 2  Max  22      M
## 3  Ray  21      M
## 4  Kim  23      F
## 5  Sam  20      M
## 6  Eve  24      F
## 7  Bob  21      M</code></pre>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="apply.html#cb614-1"></a><span class="kw">tapply</span>(data<span class="op">$</span>age, data<span class="op">$</span>gender, min)</span></code></pre></div>
<pre><code>##  F  M 
## 23 20</code></pre>
</div>
<div id="mapply" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.5</span> mapply()<a href="apply.html#mapply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>mapply()</code> function is a multivariate version of <code>sapply()</code>. It applies <code>FUN</code> to the first elements of each … argument, the second elements, the third elements, and so on.</p>
<p>Description of the required <code>mapply()</code> arguments:</p>
<ul>
<li><code>FUN</code>: The function to be applied</li>
<li><code>...</code>: Arguments to vectorize over (vectors or lists of strictly positive length, or all of zero length).</li>
</ul>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="apply.html#cb616-1"></a><span class="kw">mapply</span>(rep, <span class="dt">times =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">x =</span> <span class="dv">4</span><span class="op">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 4
## 
## [[2]]
## [1] 3 3
## 
## [[3]]
## [1] 2 2 2
## 
## [[4]]
## [1] 1 1 1 1</code></pre>
</div>
<div id="replicate" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.6</span> replicate()<a href="apply.html#replicate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>replicate()</code> function is a wrapper for <code>sapply()</code>. If we want to repeat an evaluation of an function call or an expression that does not require us to iterate through a data set or vector we can use <code>replicate()</code>.</p>
<p>Description of the required <code>replicate()</code> arguments:</p>
<ul>
<li><code>n</code>: An integer containing the number of replications.</li>
<li><code>expr</code>: The expression (or function call) to evaluate repeatedly.</li>
</ul>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="apply.html#cb618-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">4</span>, <span class="st">&quot;Hello&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello&quot; &quot;Hello&quot; &quot;Hello&quot; &quot;Hello&quot;</code></pre>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="apply.html#cb620-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="kw">factorial</span>(<span class="dv">4</span>))</span></code></pre></div>
<pre><code>##  [1] 24 24 24 24 24 24 24 24 24 24</code></pre>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="apply.html#cb622-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">5</span>, <span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)))</span></code></pre></div>
<pre><code>##      [,1]   [,2]   [,3]   [,4]   [,5]  
## [1,] &quot;red&quot;  &quot;red&quot;  &quot;red&quot;  &quot;red&quot;  &quot;blue&quot;
## [2,] &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;red&quot;</code></pre>
</div>
<div id="how-to-pick-a-method" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.7</span> How to Pick a Method<a href="apply.html#how-to-pick-a-method" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It can be difficult at first to decide which of these apply function you may want to use. In general, we can use the flow chart below as a quick guide.</p>
<p><img src="images/ApplyFlowChart.png" width="716" style="display: block; margin: auto;" /></p>
</div>
<div id="more-examples" class="section level2 hasAnchor">
<h2><span class="header-section-number">13.8</span> More Examples<a href="apply.html#more-examples" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To see some more examples of these functions in action. We will use the <code>iris</code> data set which is a built in data set in R. This data set has four numeric columns, and one factor column, <code>Species</code>. Each row is a flower, and there are four different measurements of each flower.</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="apply.html#cb624-1"></a><span class="kw">head</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="apply.html#cb626-1"></a><span class="kw">summary</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<p>Find the maximum value for the numeric variables for each observation.</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="apply.html#cb628-1"></a>numeric_iris &lt;-<span class="st"> </span>iris[,<span class="op">-</span><span class="dv">5</span>]</span>
<span id="cb628-2"><a href="apply.html#cb628-2"></a>max_in_row &lt;-<span class="st"> </span><span class="kw">apply</span>(numeric_iris, <span class="dv">1</span>, max)</span>
<span id="cb628-3"><a href="apply.html#cb628-3"></a><span class="kw">head</span>(max_in_row)</span></code></pre></div>
<pre><code>## [1] 5.1 4.9 4.7 4.6 5.0 5.4</code></pre>
<p>Determine the (arithmetic) mean of the sepal width for each species.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="apply.html#cb630-1"></a>mean_species &lt;-<span class="st"> </span><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Width, <span class="dt">INDEX =</span> iris<span class="op">$</span>Species, mean)</span>
<span id="cb630-2"><a href="apply.html#cb630-2"></a>mean_species</span></code></pre></div>
<pre><code>##     setosa versicolor  virginica 
##      3.428      2.770      2.974</code></pre>
<p>Determine the (arithmetic) mean and the median of sepal width for each species.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="apply.html#cb632-1"></a>my_avgs &lt;-<span class="st"> </span><span class="cf">function</span>(vec){</span>
<span id="cb632-2"><a href="apply.html#cb632-2"></a>  the_mean &lt;-<span class="st"> </span><span class="kw">mean</span>(vec)</span>
<span id="cb632-3"><a href="apply.html#cb632-3"></a>  the_median &lt;-<span class="st"> </span><span class="kw">median</span>(vec)</span>
<span id="cb632-4"><a href="apply.html#cb632-4"></a>  return_object &lt;-<span class="st"> </span><span class="kw">c</span>(the_mean, the_median)</span>
<span id="cb632-5"><a href="apply.html#cb632-5"></a>  <span class="kw">names</span>(return_object) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;mean&quot;</span>, <span class="st">&quot;median&quot;</span>)</span>
<span id="cb632-6"><a href="apply.html#cb632-6"></a>  <span class="kw">return</span>(return_object)</span>
<span id="cb632-7"><a href="apply.html#cb632-7"></a>}</span>
<span id="cb632-8"><a href="apply.html#cb632-8"></a></span>
<span id="cb632-9"><a href="apply.html#cb632-9"></a>species_avgs &lt;-<span class="st"> </span><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Width, </span>
<span id="cb632-10"><a href="apply.html#cb632-10"></a>                      iris<span class="op">$</span>Species,</span>
<span id="cb632-11"><a href="apply.html#cb632-11"></a>                      my_avgs)</span>
<span id="cb632-12"><a href="apply.html#cb632-12"></a>species_avgs</span></code></pre></div>
<pre><code>## $setosa
##   mean median 
##  3.428  3.400 
## 
## $versicolor
##   mean median 
##   2.77   2.80 
## 
## $virginica
##   mean median 
##  2.974  3.000</code></pre>
<p>Make a plot of the sepal width and sepal length. Make the points differ depending on the species type.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="apply.html#cb634-1"></a><span class="co"># Starting plot, make it blank </span></span>
<span id="cb634-2"><a href="apply.html#cb634-2"></a><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Sepal.Width, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb634-3"><a href="apply.html#cb634-3"></a></span>
<span id="cb634-4"><a href="apply.html#cb634-4"></a></span>
<span id="cb634-5"><a href="apply.html#cb634-5"></a><span class="co"># Custom function to add the points</span></span>
<span id="cb634-6"><a href="apply.html#cb634-6"></a>add_points &lt;-<span class="st"> </span><span class="cf">function</span>(the_data, ...){</span>
<span id="cb634-7"><a href="apply.html#cb634-7"></a>  </span>
<span id="cb634-8"><a href="apply.html#cb634-8"></a>  <span class="cf">if</span>(the_data[<span class="dv">5</span>]<span class="op">==</span><span class="st">&quot;setosa&quot;</span>){</span>
<span id="cb634-9"><a href="apply.html#cb634-9"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb634-10"><a href="apply.html#cb634-10"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb634-11"><a href="apply.html#cb634-11"></a>           <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb634-12"><a href="apply.html#cb634-12"></a>           <span class="dt">pch =</span> <span class="dv">0</span>)</span>
<span id="cb634-13"><a href="apply.html#cb634-13"></a>  } <span class="cf">else</span> <span class="cf">if</span>(the_data[<span class="dv">5</span>]<span class="op">==</span><span class="st">&quot;virginica&quot;</span>){</span>
<span id="cb634-14"><a href="apply.html#cb634-14"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb634-15"><a href="apply.html#cb634-15"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb634-16"><a href="apply.html#cb634-16"></a>           <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb634-17"><a href="apply.html#cb634-17"></a>           <span class="dt">pch =</span> <span class="dv">2</span>)</span>
<span id="cb634-18"><a href="apply.html#cb634-18"></a>  } <span class="cf">else</span>{</span>
<span id="cb634-19"><a href="apply.html#cb634-19"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb634-20"><a href="apply.html#cb634-20"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb634-21"><a href="apply.html#cb634-21"></a>           <span class="dt">col =</span> <span class="st">&quot;green&quot;</span>, </span>
<span id="cb634-22"><a href="apply.html#cb634-22"></a>           <span class="dt">pch =</span> <span class="dv">10</span>)</span>
<span id="cb634-23"><a href="apply.html#cb634-23"></a>    </span>
<span id="cb634-24"><a href="apply.html#cb634-24"></a>  }</span>
<span id="cb634-25"><a href="apply.html#cb634-25"></a>} </span>
<span id="cb634-26"><a href="apply.html#cb634-26"></a></span>
<span id="cb634-27"><a href="apply.html#cb634-27"></a></span>
<span id="cb634-28"><a href="apply.html#cb634-28"></a><span class="co"># Use apply to add points</span></span>
<span id="cb634-29"><a href="apply.html#cb634-29"></a><span class="kw">apply</span>(iris, <span class="dv">1</span>, add_points)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-230-1.png" width="672" /></p>
<pre><code>## NULL</code></pre>
<p>Make a plot of the sepal width and sepal length. Make the points differ depending on the species type. Add the (arithmetic) mean of these two variables for each group.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="apply.html#cb636-1"></a><span class="co"># ------ PLOT FROM BEFORE</span></span>
<span id="cb636-2"><a href="apply.html#cb636-2"></a><span class="co"># Starting plot, make it blank </span></span>
<span id="cb636-3"><a href="apply.html#cb636-3"></a><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Sepal.Width, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb636-4"><a href="apply.html#cb636-4"></a><span class="kw">apply</span>(iris, <span class="dv">1</span>, add_points)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="apply.html#cb638-1"></a><span class="co"># ------ </span></span>
<span id="cb638-2"><a href="apply.html#cb638-2"></a></span>
<span id="cb638-3"><a href="apply.html#cb638-3"></a></span>
<span id="cb638-4"><a href="apply.html#cb638-4"></a><span class="co"># Split the data into a list by factor</span></span>
<span id="cb638-5"><a href="apply.html#cb638-5"></a>split_iris =<span class="st"> </span><span class="kw">split</span>(iris, <span class="dt">f =</span> iris<span class="op">$</span>Species)</span>
<span id="cb638-6"><a href="apply.html#cb638-6"></a></span>
<span id="cb638-7"><a href="apply.html#cb638-7"></a><span class="co"># Iterate through the list and add (black) points to the plot</span></span>
<span id="cb638-8"><a href="apply.html#cb638-8"></a><span class="kw">lapply</span>(split_iris, <span class="cf">function</span>(species_data){</span>
<span id="cb638-9"><a href="apply.html#cb638-9"></a>  <span class="kw">points</span>(<span class="kw">mean</span>(species_data<span class="op">$</span>Sepal.Length), </span>
<span id="cb638-10"><a href="apply.html#cb638-10"></a>         <span class="kw">mean</span>(species_data<span class="op">$</span>Sepal.Width), </span>
<span id="cb638-11"><a href="apply.html#cb638-11"></a>         <span class="dt">pch =</span> <span class="dv">16</span>) </span>
<span id="cb638-12"><a href="apply.html#cb638-12"></a>})</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-231-1.png" width="672" /></p>
<pre><code>## $setosa
## NULL
## 
## $versicolor
## NULL
## 
## $virginica
## NULL</code></pre>
<p>Lets try using another example. Suppose we wish to use the following formula (below) with <code>a = Sepal.Length</code>, <code>b = Sepal.Width</code>, and <code>c = Petal.Length</code>.
<span class="math display">\[ \frac{-b + \sqrt{b^2-4ac} }{2a}\]</span></p>
<p>Now there is more efficient ways to do this in R, but lets practice how we would do it with <code>mapply</code> as an example.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="apply.html#cb640-1"></a>my_formula &lt;-<span class="st"> </span><span class="cf">function</span>(a, b, c){</span>
<span id="cb640-2"><a href="apply.html#cb640-2"></a>  num &lt;-<span class="st"> </span>(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))</span>
<span id="cb640-3"><a href="apply.html#cb640-3"></a>  den &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>a</span>
<span id="cb640-4"><a href="apply.html#cb640-4"></a>  </span>
<span id="cb640-5"><a href="apply.html#cb640-5"></a>  answer &lt;-<span class="st"> </span>num<span class="op">/</span>den</span>
<span id="cb640-6"><a href="apply.html#cb640-6"></a>  <span class="kw">return</span>(answer)</span>
<span id="cb640-7"><a href="apply.html#cb640-7"></a>}</span>
<span id="cb640-8"><a href="apply.html#cb640-8"></a></span>
<span id="cb640-9"><a href="apply.html#cb640-9"></a>formula_results &lt;-<span class="st"> </span><span class="kw">mapply</span>(my_formula, </span>
<span id="cb640-10"><a href="apply.html#cb640-10"></a>                         <span class="dt">a =</span> iris<span class="op">$</span>Sepal.Length, </span>
<span id="cb640-11"><a href="apply.html#cb640-11"></a>                         <span class="dt">b =</span> iris<span class="op">$</span>Sepal.Width, </span>
<span id="cb640-12"><a href="apply.html#cb640-12"></a>                         <span class="dt">c =</span> iris<span class="op">$</span>Petal.Length)</span>
<span id="cb640-13"><a href="apply.html#cb640-13"></a><span class="kw">head</span>(formula_results)</span></code></pre></div>
<pre><code>## [1] 0.2831638 0.3098526 0.2860609 0.3260870 0.2800000 0.3061340</code></pre>
<div id="create-a-new-variable" class="section level3 hasAnchor">
<h3><span class="header-section-number">13.8.1</span> Create a New Variable<a href="apply.html#create-a-new-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- # ```{r} -->
<!-- #  -->
<!-- # petal_size <- function(PLength, PWidth){ -->
<!-- #   if(PLength > mean(iris$Petal.Length) & PWidth >mean(iris$Sepal.Width)){ -->
<!-- #     PetalSize <- "Big" -->
<!-- #   } else if (PLength > mean(iris$Petal.Length) | PWidth >mean(iris$Sepal.Width)){ -->
<!-- #     PetalSize <- "Moderate" -->
<!-- #   } else { -->
<!-- #     PetalSize <- "Small" -->
<!-- #   } -->
<!-- #   return(PetalSize) -->
<!-- # } -->
<!-- #  -->
<!-- #  -->
<!-- # ``` -->
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="apply.html#cb642-1"></a>petal_size &lt;-<span class="st"> </span><span class="cf">function</span>(PLength, BigCutOff, ModerateCutOff, SmallCutOff){</span>
<span id="cb642-2"><a href="apply.html#cb642-2"></a>  <span class="cf">if</span>(PLength <span class="op">&gt;</span><span class="st"> </span>BigCutOff){</span>
<span id="cb642-3"><a href="apply.html#cb642-3"></a>    PetalSize &lt;-<span class="st"> &quot;Big&quot;</span></span>
<span id="cb642-4"><a href="apply.html#cb642-4"></a>  } <span class="cf">else</span> <span class="cf">if</span> (PLength <span class="op">&gt;</span><span class="st"> </span>ModerateCutOff){</span>
<span id="cb642-5"><a href="apply.html#cb642-5"></a>    PetalSize &lt;-<span class="st"> &quot;Moderate&quot;</span></span>
<span id="cb642-6"><a href="apply.html#cb642-6"></a>  } <span class="cf">else</span> <span class="cf">if</span>(PLength <span class="op">&gt;</span><span class="st"> </span>SmallCutOff){</span>
<span id="cb642-7"><a href="apply.html#cb642-7"></a>    PetalSize &lt;-<span class="st"> &quot;Small&quot;</span></span>
<span id="cb642-8"><a href="apply.html#cb642-8"></a>  } <span class="cf">else</span>{</span>
<span id="cb642-9"><a href="apply.html#cb642-9"></a>    PetalSize &lt;-<span class="st"> &quot;Very Small&quot;</span></span>
<span id="cb642-10"><a href="apply.html#cb642-10"></a>  }</span>
<span id="cb642-11"><a href="apply.html#cb642-11"></a>  <span class="kw">return</span>(PetalSize)</span>
<span id="cb642-12"><a href="apply.html#cb642-12"></a>}</span>
<span id="cb642-13"><a href="apply.html#cb642-13"></a></span>
<span id="cb642-14"><a href="apply.html#cb642-14"></a><span class="kw">sapply</span>(iris<span class="op">$</span>Petal.Length,   <span class="co"># Data</span></span>
<span id="cb642-15"><a href="apply.html#cb642-15"></a>       petal_size,          <span class="co"># Function</span></span>
<span id="cb642-16"><a href="apply.html#cb642-16"></a>       <span class="dt">BigCutOff =</span> <span class="dv">5</span>,       <span class="co"># Optional Arguments for function</span></span>
<span id="cb642-17"><a href="apply.html#cb642-17"></a>       <span class="dt">ModerateCutOff =</span> <span class="dv">4</span>, </span>
<span id="cb642-18"><a href="apply.html#cb642-18"></a>       <span class="dt">SmallCutOff =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>##   [1] &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##   [6] &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##  [11] &quot;Very Small&quot; &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##  [16] &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Small&quot;      &quot;Very Small&quot;
##  [21] &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Small&quot;      &quot;Small&quot;     
##  [26] &quot;Small&quot;      &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Small&quot;     
##  [31] &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##  [36] &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##  [41] &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot; &quot;Small&quot;      &quot;Small&quot;     
##  [46] &quot;Very Small&quot; &quot;Small&quot;      &quot;Very Small&quot; &quot;Very Small&quot; &quot;Very Small&quot;
##  [51] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;      &quot;Moderate&quot;  
##  [56] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;      &quot;Moderate&quot;   &quot;Small&quot;     
##  [61] &quot;Small&quot;      &quot;Moderate&quot;   &quot;Small&quot;      &quot;Moderate&quot;   &quot;Small&quot;     
##  [66] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;     
##  [71] &quot;Moderate&quot;   &quot;Small&quot;      &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;  
##  [76] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;     
##  [81] &quot;Small&quot;      &quot;Small&quot;      &quot;Small&quot;      &quot;Big&quot;        &quot;Moderate&quot;  
##  [86] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;     
##  [91] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;      &quot;Small&quot;      &quot;Moderate&quot;  
##  [96] &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Small&quot;      &quot;Moderate&quot;  
## [101] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;       
## [106] &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;       
## [111] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;       
## [116] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Moderate&quot;  
## [121] &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;       
## [126] &quot;Big&quot;        &quot;Moderate&quot;   &quot;Moderate&quot;   &quot;Big&quot;        &quot;Big&quot;       
## [131] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;       
## [136] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;       
## [141] &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;       
## [146] &quot;Big&quot;        &quot;Moderate&quot;   &quot;Big&quot;        &quot;Big&quot;        &quot;Big&quot;</code></pre>
</div>
</div>
<div id="additional-resources-6" class="section level2 unnumbered hasAnchor">
<h2>Additional Resources<a href="apply.html#additional-resources-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><a href="http://adv-r.had.co.nz/Functionals.html" class="uri">http://adv-r.had.co.nz/Functionals.html</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="loops.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
